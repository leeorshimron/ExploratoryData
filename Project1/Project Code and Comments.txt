# first save text file into working directory# load the data into Rpower <- read.table("household_power_consumption.txt", header = TRUE, sep = ";")#subset data to get the rows that we wantpower2 <- subset(power, Date == "1/2/2007" | Date == "2/2/2007", select = Date:Sub_metering_3)#convert Global_active_power column from ÒfactorÓ to ÒnumericÓ classpower2$Global_active_power <- as.numeric(levels(power2$Global_active_power))[power2$Global_active_power]# Create histogram (plot1)hist(power2$Global_active_power, breaks=12, main = "Global Active Power", xlab = "Global Active Power (kilowatts)", col = "red")#save plot1 as png filepng("plot1.png", width=480, height=480)# merge the date and time fieldspower2$Time <- strptime(paste(power2$Date,power2$Time),"%d/%m/%Y %H:%M:%S")# create plot2plot(power2$Time,power2$Global_active_power,type="l",xlab="Time",ylab="Global Active Power (kilowatts)")# Convert Sub_metering_1 from ÒfactorÓ variable to ÒnumericÓ variablepower2$Sub_metering_1 <- as.numeric(levels(power2$Sub_metering_1))[power2$Sub_metering_1]power2$Sub_metering_2 <- as.numeric(levels(power2$Sub_metering_2))[power2$Sub_metering_2]power2$Sub_metering_3 <- as.numeric(levels(power2$Sub_metering_3))[power2$Sub_metering_3]# Create plot 3plot(power2$Time, power2$Sub_metering_1, type="l",xlab="Time",ylab="Energy sub metering")lines(power2$Time, power2$Sub_metering_2, col="red")lines(power2$Time, power2$Sub_metering_3, col="blue")legend("topright",lty=c(1,1,1),col=c("black","red","blue"),legend=c("Sub_metering1","Sub_metering_2","Sub_metering_3"), cex=0.75)# Change Voltage and Global_reactive_power to ÒnumericÓ variablespower2$Voltage <- as.numeric(levels(power2$Voltage))[power2$Voltage]power2$Global_reactive_power <- as.numeric(levels(power2$Global_reactive_power))[power2$Global_reactive_power]# Create plot 4par(mfrow = c(2,2))plot(power2$Time,power2$Global_active_power,type="l",xlab="Time",ylab="Global Active Power (kilowatts)")plot(power2$Time,power2$Voltage,type="l",xlab="datetime",ylab="Voltage")plot(power2$Time, power2$Sub_metering_1, type="l",xlab="Time",ylab="Energy sub metering")lines(power2$Time, power2$Sub_metering_2, col="red")lines(power2$Time, power2$Sub_metering_3, col="blue") plot(power2$Time,power2$Global_reactive_power,type="l",xlab="datetime",ylab="Global_reactive_power")